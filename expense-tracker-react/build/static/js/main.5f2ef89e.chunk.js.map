{"version":3,"sources":["context/AppReducer.js","context/GlobalState.js","components/AddTransaction.js","components/Balance.js","components/Header.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","App.js","index.js"],"names":["AppReducer","state","action","type","loading","transactions","payload","filter","transaction","id","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","dispatch","a","console","log","axios","defaults","baseURL","request","url","headers","res","data","Provider","value","getTransactions","deleteTransaction","addTransaction","AddTransaction","useState","text","setText","amount","setAmount","useContext","onSubmit","event","preventDefault","newTransaction","Math","floor","random","className","htmlFor","onChange","target","changeText","placeholder","changeAmount","Balance","totalBalance","map","reduce","accumulator","toFixed","sign","abs","Header","IncomeExpenses","amounts","income","expenses","Transaction","expenseType","onClick","TransactionList","useEffect","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5f2ef89e.chunk.js","sourcesContent":["const AppReducer = (state, action) => {\n  switch (action.type) {\n    case \"GET_TRANSACTIONS\":\n      return {\n        ...state,\n        loading: false,\n        transactions: action.payload,\n      };\n    case \"DELETE_TRANSACTION\":\n      return {\n        ...state,\n        transactions: state.transactions.filter(\n          (transaction) => transaction.id !== action.payload\n        ),\n      };\n    case \"ADD_TRANSACTION\":\n      return {\n        ...state,\n        transactions: [...state.transactions, action.payload],\n      };\n    default:\n      return state;\n  }\n};\nexport default AppReducer;\n","import React, { createContext, useReducer } from \"react\";\nimport AppReducer from \"./AppReducer\";\n\nimport axios from \"axios\";\n\n//Initial state =\n// const initialState = {\n//   transactions: [\n//     { id: 1, text: \"Flower\", amount: -20 },\n//     { id: 2, text: \"Salary\", amount: 300 },\n//     { id: 3, text: \"Book\", amount: -10 },\n//     { id: 4, text: \"Camera\", amount: 150 },\n//   ],\n//   loading: true,\n// };\n\nconst initialState = {\n  transactions: [],\n  loading: true,\n};\n// Create context\nexport const GlobalContext = createContext(initialState);\n\n//Provider context\nexport const GlobalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  //Actions\n  async function getTransactions() {\n    try {\n      console.log(\"trying to get some data\");\n      axios.defaults.baseURL = \"http://localhost:5000\";\n      // const res = await axios.get(\"/api/v1/transactions\");\n\n      const res = await axios.request({\n        url: \"/api/v1/transactions\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n        },\n      });\n\n      // const res = axios({\n      //   method: \"get\",\n      //   url: \"http://localhost:5000/api/v1/transactions\",\n      // });\n      console.log(res.data);\n\n      dispatch({\n        type: \"GET_TRANSACTIONS\",\n        payload: res.data,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const deleteTransaction = (id) => {\n    dispatch({\n      type: \"DELETE_TRANSACTION\",\n      payload: id,\n    });\n  };\n\n  const addTransaction = (transaction) => {\n    dispatch({\n      type: \"ADD_TRANSACTION\",\n      payload: transaction,\n    });\n  };\n\n  return (\n    <GlobalContext.Provider\n      value={{\n        transactions: state.transactions,\n        loading: state.loading,\n        getTransactions,\n        deleteTransaction,\n        addTransaction,\n      }}\n    >\n      {children}\n    </GlobalContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport { GlobalContext } from \"../context/GlobalState\";\n\nexport const AddTransaction = () => {\n  const [text, setText] = useState(\"\");\n  const [amount, setAmount] = useState(0);\n\n  const changeText = (event) => {\n    setText(event.target.value);\n  };\n\n  const changeAmount = (event) => {\n    setAmount(event.target.value);\n  };\n\n  const { addTransaction } = useContext(GlobalContext);\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n\n    const newTransaction = {\n      id: Math.floor(Math.random() * 100000000),\n      text,\n      amount: +amount,\n    };\n\n    addTransaction(newTransaction);\n  };\n  return (\n    <div>\n      <h3>Add new transaction</h3>\n      <form id=\"form\" onSubmit={onSubmit}>\n        <div className=\"form-control\">\n          <label htmlFor=\"text\">Text</label>\n          <input\n            type=\"text\"\n            value={text}\n            onChange={(event) => changeText(event)}\n            id=\"text\"\n            placeholder=\"Enter text...\"\n          />\n        </div>\n        <div className=\"form-control\">\n          <label htmlFor=\"amount\">\n            Amount <br />\n            (negative-expense, positive -income)\n          </label>\n          <input\n            type=\"number\"\n            id=\"amount\"\n            value={amount}\n            onChange={(event) => changeAmount(event)}\n            placeholder=\"Enter amount ...\"\n          />\n        </div>\n        <button className=\"btn\">Add Transaction</button>\n      </form>\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { GlobalContext } from \"../context/GlobalState\";\n\nexport const Balance = () => {\n  const { transactions } = useContext(GlobalContext);\n\n  const amounts = transactions.map((transaction) => transaction.amount);\n  const totalBalance = amounts\n    .reduce((accumulator, amount) => (accumulator += amount), 0)\n    .toFixed(2);\n\n  const sign = totalBalance < 0 ? \"-\" : \" \";\n\n  console.log(totalBalance);\n  return (\n    <div>\n      <h4>Your Balance</h4>\n      <h1 id=\"balance\">\n        {sign}${Math.abs(totalBalance)}\n      </h1>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const Header = () => {\n  return <h2>Expense Tracker</h2>;\n};\n","import React, { useContext } from \"react\";\nimport { GlobalContext } from \"../context/GlobalState\";\n\nexport const IncomeExpenses = () => {\n  const { transactions } = useContext(GlobalContext);\n\n  const amounts = transactions.map((transaction) => transaction.amount);\n\n  const income = amounts\n    .filter((amount) => amount > 0)\n    .reduce((accumulator, amount) => (accumulator += amount), 0)\n    .toFixed(2);\n  const expenses = (\n    amounts\n      .filter((amount) => amount < 0)\n      .reduce((accumulator, amount) => (accumulator += amount), 0) * -1\n  ).toFixed(2);\n\n  return (\n    <div className=\"inc-exp-container\">\n      <div>\n        <h4>Income</h4>\n        <p id=\"money-plus\" className=\"money plus\">\n          ${income}\n        </p>\n      </div>\n      <div>\n        <h4>Expenses</h4>\n        <p id=\"money-minus\" className=\"money minus\">\n          ${expenses}\n        </p>\n      </div>\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { GlobalContext } from \"../context/GlobalState\";\n\nexport const Transaction = ({ transaction }) => {\n  const sign = transaction.amount < 0 ? \"-\" : \"+\";\n  const expenseType = sign === \"+\" ? \"plus\" : \"minus\";\n\n  const { deleteTransaction } = useContext(GlobalContext);\n\n  return (\n    <li className={expenseType}>\n      {transaction.text}{\" \"}\n      <span>\n        {sign}${Math.abs(transaction.amount)}\n      </span>\n      <button\n        onClick={() => deleteTransaction(transaction.id)}\n        className=\"delete-btn\"\n      >\n        x\n      </button>\n    </li>\n  );\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { GlobalContext } from \"../context/GlobalState\";\nimport { Transaction } from \"./Transaction\";\n\nexport const TransactionList = () => {\n  const { transactions, getTransactions } = useContext(GlobalContext);\n\n  useEffect(() => {\n    getTransactions();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div>\n      <h3>History</h3>\n      <ul id=\"list\" className=\"list\">\n        {transactions.map((transaction) => (\n          <Transaction key={transaction.id} transaction={transaction} />\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import \"./App.css\";\nimport { AddTransaction } from \"./components/AddTransaction\";\nimport { Balance } from \"./components/Balance\";\nimport { Header } from \"./components/Header\";\nimport { IncomeExpenses } from \"./components/IncomeExpenses\";\nimport { TransactionList } from \"./components/TransactionList\";\n\nimport { GlobalProvider } from \"./context/GlobalState\";\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      <Header />\n      <div className=\"container\">\n        <Balance />\n        <IncomeExpenses />\n        <TransactionList />\n        <AddTransaction />\n      </div>\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}